# Rails API

<h1 align="center">
  <a href="https://www.shipit.cl/">
    <img src="https://www.shipit.cl/hs-fs/hubfs/img/shipit-logo.png?width=1000&name=shipit-logo.png" alt="Logo" width="250" height="125">
  </a>
</h1>

---

<details open="open">
<summary>Table of Contents</summary>

- [Rails API](#rails-api)
  - [Requeriments](#requeriments)
  - [Installation](#installation)
  - [Database](#database)
  - [Server](#server)
  - [Tests](#tests)

</details>

---

# Rails API

## Requeriments
- Ruby 2.6.5
- Rails 6.0.4
- To have [ngrok](https://ngrok.com) installed

## Installation
- Install dependencies with `bundle install`
- Add `.env` file in `rails-api` folder root:
```
SHOPIFY_API_KEY=********************************
SHOPIFY_API_SECRET=shpss_********************************
SHOPIFY_ACCESS_TOKEN=shppa_********************************
SHOP_URL=[SHOP_NAME].myshopify.com
DB_USERNAME=******
DB_PASSWORD=******
DB_HOST=localhost
DB_PORT=5433
```

## Database
This is the ERD from database modelation:
<br/>
<a href="https://github.com/anyelopetit/shipit-test/blob/rails_erd_installation/backend-rails-api/erd.pdf">
  <img src="https://user-images.githubusercontent.com/19691938/123675400-aa1c7480-d810-11eb-87fd-79462feed7d2.png" alt="Logo" width="300" height="600">
</a>
![image](https://user-images.githubusercontent.com/19691938/123675400-aa1c7480-d810-11eb-87fd-79462feed7d2.png)
1. Create database: `$ rails db:create`
2. Migreate database: `$ rails db:migrate`
3. Populate database: `$ rails db:seed`

## Server
1. Run server: `$ rails s`
2. Create [ngrok](https://ngrok.com) instance pointing to `localhost:3000`: `[path_to_ngrok]/ngrok http 3000`
3. Save the URL generated by ngrok â¬† to use it later in React app

## Tests
Run tests: `$ rspec`